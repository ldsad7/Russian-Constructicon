<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Russian Constructicon</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<style type="text/css">
			body {
				font-size: 20px !important;
			}
			table td {
				border: 0px;
				text-align: left;
			}
			.keyword {
				background-color: #ff252b;
				color: #fff851;
			}
			.keyword2 {
				background-color: #fff851;
				color: #ff252b;
			}
			.keyword:hover {
				white-space: pre-line;
			}
			.keyword2:hover {
				white-space: pre-line;
			}
			.keyword_down {
				background-color: #ff252b;
				color: #fff851;
			}
			.keyword2_down {
				background-color: #ff252b;
				color: #fff851;
			}
			.keyword_down:hover {
				white-space: pre-line;
			}
			.keyword2_down:hover {
				white-space: pre-line;
			}
			.tooltip {
				width: auto;
				height: auto;
				white-space: pre-line !important;
			}
			.btn {
				padding: 0rem 1.25rem !important;
				background-color: #ff252b !important;
				color: #fff851 !important;
				border: 0px !important;
			}
		</style>
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
		<link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='pictures/rc.png') }}">
	</head>
	<body>
    {% from "macros.html" import render_pagination %}
	{% if fl == 0 %}
        {{ render_pagination(pagination) }}
        {% for ind in lst %}
            <div class="container">
                <table class="table table-hover">
                    <thead>
                      <tr>
                        <th style="width: 200px;">Property</th>
                        <th colspan="{{ dct['structure'][ind].split('~')|length + 1 }}">Value</th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="width: 200px;">Construction №{{ind + 1}}</td>
                            <td colspan="{{ dct['structure'][ind].split('~')|length }}">
                        {% if ' -то!' not in dct['id'][ind] and dct['id'][ind] != 'По- XP -ее(ей).' %}
                            {% for i in range(dct['id'][ind].split()|length) %}
                                {% if '-таки!' in dct['id'][ind] %}
                                    <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[:-6]]}}" class="keyword">{{ dct['id'][ind].split()[i][:-6] }}</span>-<span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[-5:-1]]}}" class="keyword2">{{ dct['id'][ind].split()[i][-5:-1] }}</span>!
                                {% elif dct['id'][ind].split()[i].lower() not in dct['names'][ind] %}
                                    {% if dct['id'][ind].split()[i].lower()[:-1] in dct['names'][ind] %}
                                        <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[:-1]]}}" class="keyword">{{ dct['id'][ind].split()[i][:-1] }}</span>{{ dct['id'][ind].split()[i][-1] }}
                                    {% elif dct['id'][ind].split()[i].lower()[:-2] in dct['names'][ind] and '/' not in dct['id'][ind].split()[i] and '|' not in dct['id'][ind].split()[i] %}
                                        <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[:-2]]}}" class="keyword">{{ dct['id'][ind].split()[i][:-2] }}</span>{{ dct['id'][ind].split()[i][-2:] }}
                                    {% elif '|' in dct['id'][ind].split()[i].lower() %}
                                        {% if dct['id'][ind].split()[i].lower().split('|')[0] in dct['names'][ind] and dct['id'][ind].split()[i].lower().split('|')[1] in dct['names'][ind] %}
                                            <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('|')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('|')[0] }}</span>|<span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('|')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].lower().split('|')[1] }}</span>
                                        {% else %}
                                            {{ dct['id'][ind].split()[i] }}
                                        {% endif %}
                                    {% elif dct['id'][ind].split()[i].lower().split('/')[0] in dct['names'][ind] and dct['id'][ind].split()[i].lower().split('/')|length == 3 %}
                                        <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[2]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[2] }}</span>
                                    {% elif dct['id'][ind].split()[i].lower().split('/')[0] in dct['names'][ind] %}
                                        {% if dct['id'][ind].split()[i].lower().split('/')[1][:-1] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('/'))|length == 2 %}
                                            <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1][:-1] }}</span>{{ dct['id'][ind].split()[i].split('/')[1][-1] }}									
                                        {% else %}
                                            <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1] }}</span>
                                        {% endif %}
                                    {% elif dct['id'][ind].split()[i].lower().split('/')[0][1:] in dct['names'][ind] and '/' in dct['id'][ind].split()[i].lower() %}
                                        {% if dct['id'][ind].split()[i].lower().split('/')[1][:-2] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('/'))|length == 2 %}
                                            {{ dct['id'][ind].split()[i].split('/')[0][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0][1:]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0][1:] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][:-2]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1][:-2] }}</span>{{ dct['id'][ind].split()[i].split('/')[1][-2:] }}
                                        {% elif dct['id'][ind].split()[i].lower().split('/')[1][:-1] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('/'))|length == 2 %}
                                            {{ dct['id'][ind].split()[i].split('/')[0][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0][1:]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0][1:] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1][:-1] }}</span>{{ dct['id'][ind].split()[i].split('/')[1][-1:] }}
                                        {% else %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1] }}</span>
                                        {% endif %}
                                    {% elif dct['id'][ind].split()[i].lower().split('/')[0][1:-1] in dct['names'][ind] and '/' in dct['id'][ind].split()[i].lower() %}
                                        {% if dct['id'][ind].split()[i].lower().split('/')[1][1:-1] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('/'))|length == 2 %}
                                            {{ dct['id'][ind].split()[i].split('/')[0][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0][1:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0][1:-1] }}</span>{{ dct['id'][ind].split()[i].split('/')[0][-1] }}/{{ dct['id'][ind].split()[i].split('/')[1][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][1:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1][1:-1] }}</span>{{ dct['id'][ind].split()[i].split('/')[1][-1] }}
                                        {% elif dct['id'][ind].split()[i].lower().split('/')[1][:-1] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('/'))|length == 2 %}
                                            {{ dct['id'][ind].split()[i].split('/')[0][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0][1:]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0][1:] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1][:-1] }}</span>{{ dct['id'][ind].split()[i].split('/')[1][-1:] }}
                                        {% else %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[0]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[0] }}</span>/<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('/')[1] }}</span>
                                        {% endif %}
                                    {% elif (dct['id'][ind].split()[i].lower()[-3:] == '-то' or dct['id'][ind].split()[i].lower()[-4:-1] == '-то') and '-то' in dct['names'][ind] %}
                                        {% if dct['id'][ind].split()[i].lower()[-3:] == '-то' %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()[:-3]] }}" class="keyword">{{ dct['id'][ind].split()[i][:-3] }}</span><span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()[-3:]] }}" class="keyword2">{{ dct['id'][ind].split()[i][-3:] }}</span>
                                        {% else %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()[:-5]] }}" class="keyword">{{ dct['id'][ind].split()[i][:-5] }}</span>{{ dct['id'][ind].split()[i][-5] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()[-4:-1]] }}" class="keyword2">{{ dct['id'][ind].split()[i][-4:-1] }}</span>{{ dct['id'][ind].split()[i][-1] }}
                                        {% endif %}
                                    {% elif dct['id'][ind].split()[i].lower().split('|')[0] in dct['names'][ind] %}
                                        {% if dct['id'][ind].split()[i].lower().split('|')[1][:-1] in dct['names'][ind] and (dct['id'][ind].split()[i].lower().split('|'))|length == 2 %}
                                            <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('|')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('|')[0] }}</span>|<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('/')[1][:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('|')[1][:-1] }}</span>{{ dct['id'][ind].split()[i].split('|')[1][-1] }}
                                        {% else %}
                                            <span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower().split('|')[0]]}}" class="keyword">{{ dct['id'][ind].split()[i].split('|')[0] }}</span>|<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('|')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('|')[1] }}</span>
                                        {% endif %}
                                    {% elif dct['id'][ind].split()[i].lower()[1:] in dct['names'][ind] %}
                                        {{ dct['id'][ind].split()[i][0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()[1:]] }}" class="keyword">{{ dct['id'][ind].split()[i][1:] }}</span>
                                    {% elif '-' in dct['id'][ind].split()[i].lower() and dct['id'][ind].split()[i].lower().split('-')[0] in dct['names'][ind] %}
                                        {% if dct['id'][ind].split()[i].lower().split('-')[1] in dct['names'][ind] %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('-')[0]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('-')[0] }}</span>-<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('-')[1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('-')[1] }}</span>
                                        {% else %}
                                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('-')[0]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('-')[0] }}</span>-<span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower().split('-')[1][:-1]] }}" class="keyword">{{ dct['id'][ind].split()[i].split('-')[1][:-1] }}</span>{{ dct['id'][ind].split()[i].split('-')[1][-1] }}
                                        {% endif %}
                                    {% else %}
                                        {% if dct['id'][ind].split()[i].lower()[1:-1] in dct['names'][ind] %}
                                            {{ dct['id'][ind].split()[i][0] }}<span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[1:-1]]}}" class="keyword">{{ dct['id'][ind].split()[i][1:-1] }}</span>{{ dct['id'][ind].split()[i][-1] }}
                                        {% elif dct['id'][ind].split()[i].lower()[1:-2] in dct['names'][ind] %}
                                            {{ dct['id'][ind].split()[i][0] }}<span title="{{dct['names'][ind][dct['id'][ind].split()[i].lower()[1:-2]]}}" class="keyword">{{ dct['id'][ind].split()[i][1:-2] }}</span>{{ dct['id'][ind].split()[i][-2:] }}
                                        {% else %}
                                            {{ dct['id'][ind].split()[i] }}
                                        {% endif %}
                                    {% endif %}
                                {% else %}
                                    <span title="{{ dct['names'][ind][dct['id'][ind].split()[i].lower()] }}" class="keyword">{{ dct['id'][ind].split()[i] }}</span>
                                {% endif %}
                            {% endfor %}
                        {% elif '-то' in dct['id'][ind] %}
                            <span title="{{ dct['names'][ind][dct['id'][ind].split()[0].lower()] }}" class="keyword">{{ dct['id'][ind].split()[0] }}</span><span title="{{ dct['names'][ind][dct['id'][ind].split()[1].lower()[:-1]] }}" class="keyword2">{{ dct['id'][ind].split()[1][:-1] }}</span>{{ dct['id'][ind].split()[1][-1] }}
                        {% else  %}
                            {{ dct['id'][ind].split()[0] }}<span title="{{ dct['names'][ind][dct['id'][ind].split()[1].lower()] }}" class="keyword">{{ dct['id'][ind].split()[1] }}</span>{{ dct['id'][ind].split()[2] }}
                        {% endif %}
                            </td>
                        </tr>
                        
                        <tr>
                            <td style="width: 200px;">CEFR</td>
                            <td colspan="{{ dct['structure'][ind].split('~')|length }}">
                            {{ dct['cefr'][ind].capitalize() }}
                            </td>
                        </tr>
                        
                        <tr>
                            <td style="width: 200px;">Illustration</td>
                            <td colspan="{{ dct['structure'][ind].split('~')|length + 1 }}">{{ dct['illustration'][ind] }}</td>
                        </tr>
                        
                            <tr>
                                <td style="width: 200px;">Structures</td>
                                
                        {% for i in range(dct['structure'][ind].split('~')|length) %}
                            {% if dct['structure'][ind].split('~')[i] != 'None' %}
                                <td>
                                    <div id="multi-derevo" >
                                        Structure №{{i+1}}:
                                        <li>root</li>
                                        <ul>
                                        {% for j in range(1, dct['structure'][ind].split('~')[i].split()|length) %}
                                            {% if dct['structure'][ind].split('~')[i].split()[j][0] == '[' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ']'%}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][1:-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][1:]}}</span><ul>
                                                {% endif %}
                                                
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-6:] == ']]]]]]' or dct['structure'][ind].split('~')[i].split()[j][-6:] == ']]]]]]],' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-7] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-6]}}</span></li>
                                                {% endif %}
                                                </ul></li></ul></li></ul></li></ul></li></ul></li>
                                            
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-5:] == ']]]]]' or dct['structure'][ind].split('~')[i].split()[j][-5:] == ']]]]],' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-6] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-5]}}</span></li>
                                                {% endif %}
                                                </ul></li></ul></li></ul></li></ul></li>
                                            
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-4:] == ']]]]' or dct['structure'][ind].split('~')[i].split()[j][-5:] == ']]]],' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-5] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-4]}}</span></li>
                                                {% endif %}
                                                </ul></li></ul></li></ul></li>
                                            
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-3:] == ']]]' or dct['structure'][ind].split('~')[i].split()[j][-4:] == ']]],' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-4] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-3]}}</span></li>
                                                {% endif %}
                                                </ul></li></ul></li></ul></li>
                                            
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-2:] == ']]' or dct['structure'][ind].split('~')[i].split()[j][-3:] == ']],' %}
                                                {% if dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-3] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-2]}}</span></li>
                                                {% endif %}
                                                </ul></li></ul></li>
                                            
                                            {% elif dct['structure'][ind].split('~')[i].split()[j][-1:] == ']' or dct['structure'][ind].split('~')[i].split()[j][-2:] == '],'%}
                                                {% if  dct['structure'][ind].split('~')[i].split()[j][-1] == ',' %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-2] + dct['structure'][ind].split('~')[i].split()[j][-1]}}</span></li>
                                                {% else %}
                                                    <li><span>{{dct['structure'][ind].split('~')[i].split()[j][:-1]}}</span></li>
                                                {% endif %}
                                                </ul></li>
                                            {% else %}
                                                <li><span>{{dct['structure'][ind].split('~')[i].split()[j]}}</span></li>
                                            {% endif %}
                                        {% endfor %}
                                        </ul>
                                    </div>
                                </td>
                            {% endif %}
                        {% endfor %}
                            </tr>
                        
                        {% for i in range(dct['examples'][ind]|length) %}
                            <tr>
                                <td style="width: 200px;">Example №{{i + 1}}</td>
                                <td colspan="{{ dct['structure'][ind].split('~')|length }}">
                            {% for j in range(dct['examples'][ind][i].split()|length) %}
                                {% if '[-то]' in dct['examples'][ind][i] and j <= 1 %}
                                    <span title={{ dct['examples'][ind][i].split()[0].split('_')[-1] }} class="keyword">{{ dct['examples'][ind][i].split()[0].split('_')[0].strip('[').strip(']') }}</span><span title={{ dct['examples'][ind][i].split()[1].split('_')[-1] }} class="keyword2">{{ dct['examples'][ind][i].split()[1].split('_')[0].strip('[').strip(']') }}</span>
                                    {% set j = j + 1 %}
                                {% elif '[-таки]' in dct['examples'][ind][i] and j <= 1 %}
                                    <span title={{ dct['examples'][ind][i].split()[0].split('_')[-1] }} class="keyword">{{ dct['examples'][ind][i].split()[0].split('_')[0].strip('[').strip(']') }}</span>-<span title={{ dct['examples'][ind][i].split()[1].split('_')[-1] }} class="keyword2">{{ dct['examples'][ind][i].split()[1].split('_')[0].strip('[').strip(']')[1:] }}</span>
                                    {% set j = j + 1 %}
                                {% else %}
                                    {% if dct['examples'][ind][i].split()[j].split('_')|length >= 2 %}
                                        {% if j == dct['examples'][ind][i].split()|length - 1 and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] not in ['.', '!', '?', '…'] %}
                                            {% if (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '!»' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>!»
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '»' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>».
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>".
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '".' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>".
                                            {% else %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>.
                                            {% endif %}
                                        {% else %}
                                            {% if (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '",' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>",
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '",' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>",
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '―' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '.' %}
                                                ― <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[2:-1] }}</span>.
                                            {% elif '/' in dct['examples'][ind][i].split()[j] %}
                                                {% if dct['examples'][ind][i].split()[j][0] == '[' and dct['examples'][ind][i].split()[j].split('/')[1][0] == '[' %}
                                                    <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}</span>/<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}</span>
                                                {% elif dct['examples'][ind][i].split()[j][0] == '[' %}
                                                    <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}</span>/{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}
                                                {% elif dct['examples'][ind][i].split()[j].split('/')[1][0] == '[' %}
                                                    {{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}/<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}</span>
                                                {% else %}
                                                    {{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}/{{ (' '.join(dct['examples'][ind][i].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}
                                                {% endif %}
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '?"' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>?"
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '".' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>".
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1:] == ',' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>,
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '…―' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>…―
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '!"' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>!"
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '…!' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>…!
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '―' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '!' %}
                                                ― <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>!
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '!»' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>!»
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '?!' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>?!
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-5:] == '...!"' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-5] }}</span>...!"
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ',' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}"  class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>,
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-3:] == '!).' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}"  class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-3] }}</span>!).
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '"!' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>"!
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '».' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>».
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ':' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>:
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '!' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>!
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '.' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>.
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '?' and '?' not in (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1]%}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>?
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ')' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>)
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '?»' and (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '«' %}
                                                «<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>?»
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '.»' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>.»
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '»' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>»
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>"
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1] == '(' %}
                                                (<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '(' %}
                                                (<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '―' %}
                                                ― <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '«' %}
                                                «<span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '…' %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>…
                                            {% else %}
                                                <span title="{{ ' '.join(dct['examples'][ind][i].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['examples'][ind][i].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if j == dct['examples'][ind][i].split()|length - 1 and dct['examples'][ind][i].split()[j][-1] not in ['.', '!', '?', '…'] %}
                                            {{ dct['examples'][ind][i].split()[j] + '.' }}
                                        {% else %}
                                            {{ dct['examples'][ind][i].split()[j] }}
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                                </td>
                            </tr>
                        {% endfor %}
                    
                        <tr>
                            <td style="width: 200px;">Russian definition</td>
                            <td colspan={{ dct['structure'][ind].split('~')|length }}>
                            {% for j in range(dct['rus_definition'][ind].split()|length) %}
                                {% if dct['rus_definition'][ind].split()[j].split('_')|length >= 2 %}
                                    {% if j == dct['rus_definition'][ind].split()|length - 1 and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] not in ['.', '!', '?', '…'] %}
                                        {% if (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                            "<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>"
                                        {% else %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>.
                                        {% endif %}
                                    {% else %}
                                        {% if ']_Location/' in dct['rus_definition'][ind].split()[j] or '/[' in dct['rus_definition'][ind].split()[j] %}
                                            {% if dct['rus_definition'][ind].split()[j].split('/')[0][0] == '[' and dct['rus_definition'][ind].split()[j].split('/')[1][0] == '[' %}
                                                {% if (' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']')[-1] == ',' %}
                                                    <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}</span>/<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>,
                                                {% else %}
                                                    <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}</span>/<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}</span>
                                                {% endif %}
                                            {% elif dct['rus_definition'][ind].split()[j].split('/')[0][0] == '[' %}
                                                <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['rus_definition'][ind].split()[j].split('/')[0].split('_')[:-1])).strip('[').strip(']') }}</span>/{{ dct['rus_definition'][ind].split()[j].split('/')[1] }}
                                            {% elif dct['rus_definition'][ind].split()[j].split('/')[1][0] == '[' %}
                                                {{ dct['rus_definition'][ind].split()[j].split('/')[0] }}/<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['rus_definition'][ind].split()[j].split('/')[1].split('_')[:-1])).strip('[').strip(']') }}</span>
                                            {% else %}
                                                {{ dct['rus_definition'][ind].split()[j] }}
                                            {% endif %}
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '".' and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                            "<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-2] }}</span>".
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ',' %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>,
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ';' %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>;
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ')' %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>)
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '»' and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '«' %}
                                            «<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>»
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '.' %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>.
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ')' and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '(' %}
                                            (<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>)
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ':' %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>:
                                        {% elif (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' and (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                            "<span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ (' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:-1] }}</span>"
                                        {% else %}
                                            <span title="{{ ' '.join(dct['rus_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{ ( ' '.join(dct['rus_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>
                                        {% endif %}
                                    {% endif %}
                                {% else %}
                                    {% if j == dct['rus_definition'][ind].split()|length - 1 and dct['rus_definition'][ind].split()[j][-1] not in ['.', '!', '?', '…'] %}
                                        {{ dct['rus_definition'][ind].split()[j] + '.' }}
                                    {% else %}
                                        {{ dct['rus_definition'][ind].split()[j] }}
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                            </td>
                        </tr>
                        {% if dct['eng_definition'][ind] %}
                            <tr>
                                <td style="width: 200px;">English definition</td>
                                <td colspan={{ dct['structure'][ind].split('~')|length }}>
                                {% for j in range(dct['eng_definition'][ind].split()|length) %}
                                    {% if dct['eng_definition'][ind].split()[j].split('_')|length >= 2 %}
                                        {% if j == dct['eng_definition'][ind].split()|length - 1 and (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] not in ['.', '!', '?', '…'] %}
                                            <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>.
                                        {% else %}
                                            {% if (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '’,' %}
                                                <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>’,
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '?’' %}
                                                <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>?’
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ',' %}
                                                <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>,
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '.' %}
                                                <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>.
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '“' %}
                                                “<span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' and (' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>"
                                            {% else %}
                                                <span title="{{ ' '.join(dct['eng_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['eng_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if j == dct['eng_definition'][ind].split()|length - 1 and dct['eng_definition'][ind].split()[j][-1] not in ['.', '!', '?', '…'] %}
                                            {{ dct['eng_definition'][ind].split()[j] + '.' }}
                                        {% else %}
                                            {{ dct['eng_definition'][ind].split()[j] }}
                                        {% endif %}
                                    {% endif %}
                                {% endfor %}
                                </td>
                                
                            </tr>
                        {% endif %}
                        {% if dct['nor_definition'][ind] %}
                            <tr>
                                <td style="width: 200px;">Norwegian definition</td>
                                <td colspan={{ dct['structure'][ind].split('~')|length }}>
                                {% for j in range(dct['nor_definition'][ind].split()|length) %}
                                    {% if dct['nor_definition'][ind].split()[j].split('_')|length >= 2 %}
                                        {% if j == dct['nor_definition'][ind].split()|length - 1 and (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] not in ['.', '!', '?', '…'] %}
                                            <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>.
                                        {% else %}
                                            {% if (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-3:] == '?’.' %}
                                                <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-3] }}</span>?’.
                                            {% elif (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-2:] == '?’' %}
                                                <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-2] }}</span>?’
                                            {% elif (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == ',' %}
                                                <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>,
                                            {% elif (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '.' %}
                                                <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[:-1] }}</span>.
                                            {% elif (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[-1] == '"' and (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '"' %}
                                                "<span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% elif (' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[0] == '“' %}
                                                “<span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']')[1:] }}</span>
                                            {% else %}
                                                <span title="{{ ' '.join(dct['nor_definition'][ind].split()[j].split('_')[-1].split('+')) }}" class="keyword">{{(' '.join(dct['nor_definition'][ind].split()[j].split('_')[:-1])).strip('[').strip(']') }}</span>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if j == dct['nor_definition'][ind].split()|length - 1 and dct['nor_definition'][ind].split()[j][-1] not in ['.', '!', '?', '…'] %}
                                            {{ dct['nor_definition'][ind].split()[j] + '.' }}
                                        {% else %}
                                            {{ dct['nor_definition'][ind].split()[j] }}
                                        {% endif %}
                                    {% endif %}
                                {% endfor %}
                                </td>
                            </tr>
                        {% endif %}
                        {% if dct['comment'][ind] %}
                            <tr>
                                <td style="width: 200px;">Comment</td>
                                <td colspan={{ dct['structure'][ind].split('~')|length }}>{{dct['comment'][ind]}}</td>
                            </tr>
                        {% endif %}
                        {% if dct['coll'][ind] %}
                            <tr>
                                <td style="width: 200px;">Coll</td>
                                <td colspan={{ dct['structure'][ind].split('~')|length }}>{{', '.join(dct['coll'][ind])}}</td>
                            </tr>
                        {% endif %}
                        {% if dct['reference'][ind] %}
                            <tr>
                                <td style="width: 200px;">Reference</td>
                                <td colspan={{ dct['structure'][ind].split('~')|length }}>{{dct['reference'][ind]}}</td>
                            </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        {% endfor %}
	{% else %}
		<h3 align="center">{{message}}</h3>
	{% endif %}
    {{ render_pagination(pagination) }}
	<form action="/" method="GET">
		<p align="center"><button type="submit" class="btn btn-primary"><h1 style="margin-top: 10px !important;">To the main page</h1></button></p>
	</form>
		
		<script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
		<script>
			$(function () {
			  $('.keyword').tooltip({ 'placement': 'top'});
			});
			$(function () {
			  $('.keyword_down').tooltip({ 'placement': 'bottom'});
			});
			$(function () {
			  $('.keyword2').tooltip({ 'placement': 'top'});
			});
			$(function () {
			  $('.keyword2_down').tooltip({ 'placement': 'bottom'});
			});
		</script>
		
	</body>
</html>